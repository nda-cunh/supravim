#!/bin/bash
SearchClangd(){
fpath_sys="/var/lib/flatpak/runtime/org.freedesktop.Sdk.Extension.llvm14/x86_64/22.08/active/files/bin/clangd"
fpath_user=$HOME"/.local/share/flatpak/runtime/org.freedesktop.Sdk.Extension.llvm14/x86_64/22.08/active/files/bin/clangd"
path_supra=$HOME"/.local/bin/clangd"

	if [ -f "/bin/clangd" ]
	then
		/bin/clangd $@
	elif [ -f $fpath_user ]
	then
		flatpak run --user --env="PATH=/usr/lib/sdk/llvm14/bin:$PATH" --filesystem=home --command=clangd org.freedesktop.Sdk//22.08 $@
	elif [ -f $fpath_sys ]
	then
		flatpak run --env="PATH=/usr/lib/sdk/llvm14/bin:$PATH" --filesystem=home --command=clangd org.freedesktop.Sdk//22.08 $@
	else
		~/.local/share/SupraVim/bin/clangd_spv $@
	fi
}

SearchClangd $@
